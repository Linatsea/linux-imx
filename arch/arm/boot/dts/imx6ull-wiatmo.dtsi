/*
 * Copyright (C) NKE
 *
 */

 /dts-v1/;

 #include "imx6ull.dtsi"
 #include "imx6ull-var-som.dtsi"
 #include "imx6ul-imx6ull-var-som-emmc.dtsi"

/{

	chosen {
		stdout-path = &uart1;
	};

	gpio-keys {
		compatible = "gpio-keys";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_wakeup_key>;
		wakeup {
			label = "wakeup gpio";
			gpios = <&gpio5 1 GPIO_ACTIVE_LOW>;
			linux,code = <29>;
			gpio-key,wakeup;
		};
	};

	leds {
		compatible = "gpio-leds";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpio_leds>;

		greenled {
			label = "wiatmo:green";
			gpios = <&gpio1 30 GPIO_ACTIVE_HIGH>;
			default-state = "off";
		};

		p2red {
			label = "wiatmo:p2red";
			gpios = <&gpio2 14 GPIO_ACTIVE_HIGH>;
			default-state = "off";
		};

		p2yellow {
			label = "wiatmo:p2yellow";
			gpios = <&gpio2 12 GPIO_ACTIVE_HIGH>;
			default-state = "off";
		};

		p2green {
			label = "wiatmo:p2green";
			gpios = <&gpio2 13 GPIO_ACTIVE_HIGH>;
			default-state = "off";
		};

	};
};


&fec1 {
	pinctrl-0 = <&pinctrl_enet1>, <&pinctrl_enet1_gpio>;
	phy-reset-on-resume;
	status = "okay";
};


&i2c1 {
	clock_frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c1>;
	status = "okay";

	rtc@68 {
		compatible = "dallas,ds1337";
		reg = <0x68>;
		pinctrl-names = "default";

		pinctrl-0 = <&pinctrl_rtc>;

		interrupt-parent = <&gpio5>;
		interrupts = <8 IRQ_TYPE_EDGE_FALLING>;
		wakeup-source;
	};
};

&snvs_rtc {
	status = "disabled";
};

&iomuxc_snvs {

	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_snvs_gpio_user>;

	pinctrl_rtc: rtcgrp {
		fsl,pins = <
			MX6ULL_PAD_SNVS_TAMPER8__GPIO5_IO08		0x1b0b0 /* RTC alarm IRQ */
		>;
	};


	pinctrl_wakeup_key: wakeup_keygrp {
		fsl,pins = <
		/* pin 73 */
		MX6ULL_PAD_SNVS_TAMPER1__GPIO5_IO01			0x1b0b0
		>;

	};

	pinctrl_snvs_gpio_user: snvs_gpio_user {
		fsl,pins = <
			MX6ULL_PAD_SNVS_TAMPER3__GPIO5_IO03		0x1b0b0	/* MUX_GAZ_S0 */
			MX6ULL_PAD_SNVS_TAMPER5__GPIO5_IO05		0x1b0b0	/* MUX_GAZ_S1 */
			MX6ULL_PAD_SNVS_TAMPER9__GPIO5_IO09		0x1b0b0	/* MUX_GAZ_S2 */
		>;
	};

};


&iomuxc {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_gpio_user>;


	pinctrl_usb_otg1_id: usbotg1idgrp {
		fsl,pins = <
			MX6UL_PAD_UART3_TX_DATA__ANATOP_OTG1_ID	0x17059
		>;
	};

	pinctrl_i2c1: i2c1grp {
		fsl,pins = <
			MX6UL_PAD_CSI_PIXCLK__I2C1_SCL		0x4001b8b0
			MX6UL_PAD_CSI_MCLK__I2C1_SDA		0x4001b8b0
		>;
	};

	pinctrl_uart1: uart1grp {
		fsl,pins = <
			MX6UL_PAD_UART1_TX_DATA__UART1_DCE_TX	0x1b0b1
			MX6UL_PAD_UART1_RX_DATA__UART1_DCE_RX	0x1b0b1
		>;
	};

	pinctrl_uart2: uart2grp {
		fsl,pins = <
			MX6UL_PAD_UART2_TX_DATA__UART2_DCE_TX	0x1b0b1
			MX6UL_PAD_UART2_RX_DATA__UART2_DCE_RX	0x1b0b1
		>;
	};

	pinctrl_uart3: uart3grp {
		fsl,pins = <
			MX6UL_PAD_NAND_READY_B__UART3_DCE_TX    0x1b0b1
			MX6UL_PAD_UART3_RX_DATA__UART3_DCE_RX   0x1b0b1
		>;
	};

	pinctrl_uart4: uart4grp {
		fsl,pins = <
			MX6UL_PAD_UART4_TX_DATA__UART4_DCE_TX   0x1b0b1
			MX6UL_PAD_UART4_RX_DATA__UART4_DCE_RX   0x1b0b1
		>;
	};

	pinctrl_uart5: uart5grp {
		fsl,pins = <
			MX6UL_PAD_CSI_DATA00__UART5_DCE_TX      0x1b0b1
			MX6UL_PAD_CSI_DATA01__UART5_DCE_RX      0x1b0b1
	    >;
	};

	pinctrl_uart6: uart6grp {
		fsl,pins = <
			MX6UL_PAD_ENET2_RX_DATA0__UART6_DCE_TX  0x1b0b1
			MX6UL_PAD_ENET2_RX_DATA1__UART6_DCE_RX  0x1b0b1
		>;
	};

	pinctrl_uart7: uart7grp {
		fsl,pins = <
			MX6UL_PAD_LCD_DATA16__UART7_DCE_TX      0x1b0b1
			MX6UL_PAD_LCD_DATA17__UART7_DCE_RX      0x1b0b1
		>;
	};

	pinctrl_uart8: uart8grp {
	    fsl,pins = <
			MX6UL_PAD_LCD_DATA20__UART8_DCE_TX      0x1b0b1
			MX6UL_PAD_LCD_DATA21__UART8_DCE_RX      0x1b0b1
			>;
	};

	pinctrl_gpio_leds: gpio_ledsgrp {
		fsl,pins = <
			MX6UL_PAD_UART5_TX_DATA__GPIO1_IO30		0x1b0b0 /* STATUS GREEN */
			MX6UL_PAD_ENET2_TX_CLK__GPIO2_IO14		0x1b0b0 /* P2RED */
			MX6UL_PAD_ENET2_TX_DATA1__GPIO2_IO12	0x1b0b0 /* P2YELLOW */
			MX6UL_PAD_ENET2_TX_EN__GPIO2_IO13		0x1b0b0	/* P2GREEN */
		>;
	};

	pinctrl_gpio_user: hoggrp {
		fsl,pins = <
			/* GAZ CS & MUX */
			MX6UL_PAD_LCD_DATA12__GPIO3_IO17		0x1b0b0	/* CS_GAZ */
			/* other ones are in iomx_snvs */

			/* POWER OUTPUTS */
			MX6UL_PAD_CSI_DATA07__GPIO4_IO28		0x1b0b0 /* CMD_P1 */

			MX6UL_PAD_ENET2_RX_EN__GPIO2_IO10		0x1b0b0 /* CMD_Port_4 */
			MX6UL_PAD_ENET2_TX_DATA0__GPIO2_IO11	0x1b0b0 /* CMD_Port_5 */
			MX6UL_PAD_LCD_ENABLE__GPIO3_IO01		0x1b0b0 /* CMD_Port_6 */
			MX6UL_PAD_LCD_HSYNC__GPIO3_IO02			0x1b0b0 /* CMD_Port_7 */
			MX6UL_PAD_LCD_VSYNC__GPIO3_IO03			0x1b0b0 /* CMD_Port_8 */

			MX6UL_PAD_LCD_DATA10__GPIO3_IO15		0x1b0b0 /* VCC_MODEM */
			MX6UL_PAD_CSI_DATA02__GPIO4_IO23		0x1b0b0 /* PERST */

			/* UART4 */
			MX6UL_PAD_UART3_CTS_B__GPIO1_IO26		0x1b0b0 /* UART4_SHDN */
			MX6UL_PAD_UART3_RTS_B__GPIO1_IO27		0x1b0b0 /* UART4_H485L232 */
			MX6UL_PAD_UART2_CTS_B__GPIO1_IO22		0x1b0b0 /* UART4_DE485 */
			MX6UL_PAD_UART2_RTS_B__GPIO1_IO23		0x1b0b0 /* UART4_TE485 */

			/* UART5 */
			MX6UL_PAD_LCD_DATA01__GPIO3_IO06		0x1b0b0 /* UART5_SHDN */
			MX6UL_PAD_LCD_DATA11__GPIO3_IO16		0x1b0b0 /* UART5_H485L232 */
			MX6UL_PAD_LCD_DATA06__GPIO3_IO11		0x1b0b0 /* UART5_DE485 */
			MX6UL_PAD_LCD_DATA07__GPIO3_IO12		0x1b0b0 /* UART5_TE485 */

			/* UART6 */
			MX6UL_PAD_LCD_DATA04__GPIO3_IO09		0x1b0b0	/* UART6_SHDN */
			MX6UL_PAD_LCD_DATA02__GPIO3_IO07		0x1b0b0	/* UART6_H485L232 */
			MX6UL_PAD_LCD_DATA03__GPIO3_IO08		0x1b0b0	/* UART6_DE485 */
			MX6UL_PAD_LCD_DATA13__GPIO3_IO18		0x1b0b0 /* UART6_TE485 */

			/* UART7 */
			MX6UL_PAD_LCD_DATA14__GPIO3_IO19		0x1b0b0 /* UART7_SHDN */
			MX6UL_PAD_LCD_DATA15__GPIO3_IO20		0x1b0b0 /* UART7_H485L232 */
			MX6UL_PAD_LCD_DATA18__GPIO3_IO23		0x1b0b0 /* UART7_DE485 */
			MX6UL_PAD_LCD_DATA19__GPIO3_IO24		0x1b0b0 /* UART7_TE485 */

			/* UART8 */
			MX6UL_PAD_LCD_DATA22__GPIO3_IO27		0x1b0b0 /* UART8_SHDN */
			MX6UL_PAD_LCD_DATA23__GPIO3_IO28		0x1b0b0 /* UART8_H485L232 */
			MX6UL_PAD_LCD_DATA08__GPIO3_IO13		0x1b0b0 /* UART8_DE485 */
			MX6UL_PAD_LCD_DATA09__GPIO3_IO14		0x1b0b0 /* UART8_TE485 */

			/* SONO */
			MX6UL_PAD_CSI_DATA04__GPIO4_IO25		0x1b0b0 /* ONOFF_SONO */

			/* VIBR */
			MX6UL_PAD_CSI_DATA05__GPIO4_IO26		0x1b0b0 /* ONOFF_VIBR */

			/* ADC */
			MX6UL_PAD_GPIO1_IO02__GPIO1_IO02		0x1b0b0 /* VBAT_CMD */

			/* IRQ_ON_OFF_UC */
			MX6UL_PAD_NAND_CE1_B__GPIO4_IO14		0x1b0b0 /* IRQ_ON_OFF_UC */

		>;
	};
	pinctrl_adc1: adc1grp {
		fsl,pins = <
			MX6UL_PAD_GPIO1_IO04__GPIO1_IO04		0xb0
		>;
	};
};

/* Console UART */
&uart1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart1>;
	status = "okay";
};

/* ttymxc1 UART */
&uart2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart2>;
	status = "okay";
};

/* ttymxc2 UART */
&uart3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart3>;
	status = "okay";
};

/* ttymxc3 UART */
&uart4 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart4>;
	status = "okay";
};

/* ttymxc4 UART */
&uart5 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart5>;
	status = "okay";
};

/* ttymxc5 UART */
&uart6 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart6>;
	status = "okay";
};

/* ttymxc6 UART */
&uart7 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart7>;
    status = "okay";
};

/* ttymxc7 UART */
&uart8 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart8>;
    status = "okay";
};

&usbotg1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_usb_otg1_id>;
	dr_mode = "otg";
	disable-over-current;
	srp-disable;
	hnp-disable;
	adp-disable;
	status = "okay";
};

&usbotg2 {
	dr_mode = "host";
	disable-over-current;
	status = "okay";
};

&adc1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_adc1>;
	num-channels = <10>;
	status = "okay";
};

&gpio1 {
	gpio-line-names =
	"",					// 0
	"",					// 1
	"VBAT_CMD",			// 2
	"",					// 3
	"",					// 4
	"",					// 5
	"",					// 6
	"",					// 7
	"", 				// 8
	"",					// 9
	"",					// 10
	"",					// 11
	"",					// 12
	"",					// 13
	"",					// 14
	"",					// 15
	"",					// 16
	"",					// 17
	"",					// 18
	"",					// 19
	"",					// 20
	"",					// 21
	"UART4_DE485",		// 22
	"UART4_TE485",		// 23
	"",					// 24
	"",					// 25
	"UART4_SHDN",		// 26
	"UART4_H485L232",	// 27
	"",					// 28
	"",					// 29
	"",					// 30
	"";					// 31
};



&gpio2 {
	gpio-line-names =
	"",					// 0
	"",					// 1
	"",					// 2
	"",					// 3
	"",					// 4
	"",					// 5
	"",					// 6
	"",					// 7
	"", 				// 8
	"",					// 9
	"CMD_Port_4",		// 10
	"CMD_Port_5",		// 11
	"",					// 12
	"",					// 13
	"",					// 14
	"",					// 15
	"",					// 16
	"",					// 17
	"",					// 18
	"",					// 19
	"",					// 20
	"",					// 21
	"",					// 22
	"",					// 23
	"",					// 24
	"",					// 25
	"",					// 26
	"",					// 27
	"",					// 28
	"",					// 29
	"",					// 30
	"";					// 31
};

&gpio3 {
	gpio-line-names =
	"",					// 0
	"CMD_Port_6",		// 1
	"CMD_Port_7",		// 2
	"CMD_Port_8",		// 3
	"",					// 4
	"",					// 5
	"UART5_SHDN",		// 6
	"UART6_H485L232",	// 7
	"UART6_DE485",		// 8
	"UART6_SHDN",		// 9
	"",					// 10
	"UART5_DE485",		// 11
	"UART5_TE485",		// 12
	"UART8_DE485",		// 13
	"UART8_TE485",		// 14
	"VCC_MODEM",		// 15
	"UART5_H485L232",	// 16
	"CS_GAZ",			// 17
	"UART6_TE485",		// 18
	"UART7_SHDN",		// 19
	"UART7_H485L232",	// 20
	"",					// 21
	"",					// 22
	"UART7_DE485",		// 23
	"UART7_TE485",		// 24
	"",					// 25
	"",					// 26
	"UART8_SHDN",		// 27
	"UART8_H485L232",	// 28
	"",					// 29
	"",					// 30
	"";					// 31
};

&gpio4 {
	gpio-line-names =
	"",					// 0
	"",					// 1
	"",					// 2
	"",					// 3
	"",					// 4
	"",					// 5
	"",					// 6
	"",					// 7
	"", 				// 8
	"",					// 9
	"",					// 10
	"",					// 11
	"",					// 12
	"",					// 13
	"IRQ_ON_OFF_UC",	// 14
	"",					// 15
	"",					// 16
	"",					// 17
	"",					// 18
	"",					// 19
	"",					// 20
	"",					// 21
	"",					// 22
	"PERST",			// 23
	"",					// 24
	"ONOFF_SONO",		// 25
	"ONOFF_VIBR",		// 26
	"",					// 27
	"CMD_P1",			// 28
	"",					// 29
	"",					// 30
	"";					// 31
};



&gpio5 {
	gpio-line-names =
	"",					// 0
	"",					// 1
	"",					// 2
	"MUX_GAZ_S0",		// 3
	"",					// 4
	"MUX_GAZ_S1",		// 5
	"",					// 6
	"",					// 7
	"", 				// 8
	"MUX_GAZ_S2",		// 9
	"",					// 10
	"",					// 11
	"",					// 12
	"",					// 13
	"",					// 14
	"",					// 15
	"",					// 16
	"",					// 17
	"",					// 18
	"",					// 19
	"",					// 20
	"",					// 21
	"",					// 22
	"",					// 23
	"",					// 24
	"",					// 25
	"",					// 26
	"",					// 27
	"",					// 28
	"",					// 29
	"",					// 30
	"";					// 31
};
